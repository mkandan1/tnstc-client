import{r as t,u as v,j as a}from"./index-B9wrcDWQ.js";import{P as R}from"./Container-Dk9VdPk9.js";import{r as x}from"./route.service-CcB9DkO7.js";import{P as h}from"./PageHeader-BHYpsllP.js";import{N as j}from"./NormalTable-Dl69B-GF.js";import"./ButtonList-DgGakKsg.js";import"./ToggleSwitch-0XDEILB1.js";const S=()=>{const[s,n]=t.useState([]),o=v(),[c,l]=t.useState(!0),[u,d]=t.useState(null),m=[{label:"Route Name",field:"routeName"},{label:"Route Code",field:"routeCode"},{label:"Origin",field:"origin.name"},{label:"Destination",field:"destination.name"},{label:"Distance (km)",field:"totalDistance"},{label:"Duration (min)",field:"totalDuration"},{label:"Status",field:"isActive"},{label:"Type",field:"routeType"}],f=[{id:"add-route",label:"Add Route",icon:"gridicons:create"}],b=[{label:"View",icon:"mdi:eye",callback:e=>o(e._id)},{label:"Edit",icon:"mdi:pencil",callback:e=>o(`${e._id}`)}],p=e=>{e==="add-route"&&o("new")};return t.useEffect(()=>{let e=!0;return(async()=>{try{l(!0);const i=await x.getAllRoutes();if(e){const g=i.map(r=>({...r,isActive:r.isActive?"Active":"Inactive"}));n(g)}}catch(i){d(i.message)}finally{e&&l(!1)}})(),()=>{e=!1}},[]),a.jsxs(R,{children:[a.jsx(h,{title:"Routes",description:`You have ${s.length} routes`,buttons:f,onButtonClick:e=>p(e)}),a.jsx("div",{className:"w-screen md:w-auto overflow-x-auto",children:a.jsx(j,{headers:m,data:s,actions:b,isLoading:c,error:u})})]})};export{S as default};
