import{r as s,u as y,j as t}from"./index-B9wrcDWQ.js";import{P as h}from"./Container-Dk9VdPk9.js";import{P as v}from"./PageHeader-BHYpsllP.js";import{b as x}from"./bus.service-DtEzQnLH.js";import{N as B}from"./NormalTable-Dl69B-GF.js";import"./ButtonList-DgGakKsg.js";import"./ToggleSwitch-0XDEILB1.js";function A(){const[n,o]=s.useState(!1),[c,u]=s.useState(null),[r,d]=s.useState([]),a=y(),f=[{id:"create-bus",label:"Create Bus",icon:"gridicons:create"}],m=[{label:"Bus No",field:"busNumber"},{label:"Booking Method",field:"ticketingSystem"},{label:"Passenger Type",field:"passengerType"},{label:"Bus Type",field:"busType"},{label:"Fuel Type",field:"fuelType"}],b=[{label:"View",icon:"mdi:eye",callback:e=>a(e._id)},{label:"Edit",icon:"mdi:pencil",callback:e=>a(`${e._id}`)}],p=e=>{e=="create-bus"&&a("new")};return s.useEffect(()=>{let e=!0;return(async()=>{try{o(!0);const i=await x.getAllBuses();if(e){const g=i.buses.map(l=>({...l,isActive:l.isAc?"Active":"Inactive"}));d(g)}}catch(i){u(i.message)}finally{e&&o(!1)}})(),()=>{e=!1}},[]),t.jsxs(h,{children:[t.jsx(v,{title:"Buses",buttons:f,description:`You have ${r.length} buses`,onButtonClick:p}),t.jsx("div",{className:"w-screen md:w-auto overflow-x-auto",children:t.jsx(B,{headers:m,data:r,actions:b,isLoading:n,error:c})})]})}export{A as default};
