import{r as m,j as e,h,k as g}from"./index-B9wrcDWQ.js";import{A as p,T as x,L as t,a as n,S as N,B as y,b as C}from"./ToggleSwitch-0XDEILB1.js";import{P as b}from"./Container-Dk9VdPk9.js";import{P as F}from"./PageHeader-BHYpsllP.js";import{T as B}from"./TabContainer-DqSLoziL.js";import"./ButtonList-DgGakKsg.js";const q=()=>{const[a,o]=m.useState({firstName:"",lastName:"",email:"",phoneNumber:"",role:"",gender:"",dateOfBirth:"",address:"",emergencyContact:{name:"",contactNumber:""}}),[d,l]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{(async()=>{try{l(!0);const r=await h.currentUser();o({...r,dateOfBirth:r.dateOfBirth?r.dateOfBirth.split("T")[0]:""})}catch(r){u(r.message)}finally{l(!1)}})()},[]);const s=i=>{const{name:r,value:f}=i.target;o(v=>({...v,[r]:f}))},j=async i=>{i.preventDefault();try{l(!0),await h.updateUser(a._id,a),g.success("Profile updated successfully!")}catch(r){u(r.message)}finally{l(!1)}};return e.jsxs(b,{children:[e.jsx(F,{title:"My Profile"}),c&&e.jsx(p,{color:"failure",children:c}),e.jsx(B,{children:e.jsx(x,{children:e.jsx(x.Item,{title:"My Profile",children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"firstName",value:"First Name"}),e.jsx(n,{id:"firstName",name:"firstName",value:a.firstName,onChange:s,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"lastName",value:"Last Name"}),e.jsx(n,{id:"lastName",name:"lastName",value:a.lastName,onChange:s,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"email",value:"Email"}),e.jsx(n,{id:"email",name:"email",value:a.email,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"phoneNumber",value:"Phone Number"}),e.jsx(n,{id:"phoneNumber",name:"phoneNumber",value:a.phoneNumber,onChange:s,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"gender",value:"Gender"}),e.jsxs(N,{id:"gender",name:"gender",value:a.gender,onChange:s,required:!0,children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"dateOfBirth",value:"Date of Birth"}),e.jsx(n,{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:a.dateOfBirth,onChange:s,required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"address",value:"Address"}),e.jsx(n,{id:"address",name:"address",value:a.address,onChange:s})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"emergencyContactName",value:"Emergency Contact Name"}),e.jsx(n,{id:"emergencyContactName",name:"emergencyContact.name",value:a.emergencyContact.name,onChange:s})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"emergencyContactNumber",value:"Emergency Contact Number"}),e.jsx(n,{id:"emergencyContactNumber",name:"emergencyContact.contactNumber",value:a.emergencyContact.contactNumber,onChange:s})]}),e.jsx(y,{type:"submit",color:"blue",disabled:d,className:"w-full",children:d?e.jsx(C,{size:"sm"}):"Update Profile"})]})})})})]})};export{q as default};
