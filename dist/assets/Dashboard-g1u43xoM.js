import{j as e,I as n,g as u,r as l}from"./index-B9wrcDWQ.js";import{P as x}from"./Container-Dk9VdPk9.js";const a=({title:s,value:o,icon:c,iconBg:r})=>{const i=new Intl.NumberFormat("en-IN").format(o);return e.jsx("div",{className:"bg-white border shadow-lg  w-full md:w-80 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-blueGray-400 font-semibold text-sm mb-1 tracking-tight",children:s}),e.jsx("h3",{className:"text-xl text-blueGray-700 font-bold",children:i})]}),e.jsx("div",{className:"w-full",children:e.jsxs("p",{className:"flex text-xs items-center gap-2 text-blueGray-400",children:[e.jsx(n,{icon:"fe:calendar"})," Since app launch"]})})]}),e.jsx("div",{className:"flex justify-end w-1/2",children:e.jsx("div",{className:`w-12 h-12 shadow-md rounded-full flex justify-center items-center text-lg text-white ${r}`,children:e.jsx(n,{icon:c})})})]})})},m={getStatistics:async()=>{try{return await u("/statistics")}catch(s){throw console.error("Error fetching bus stops:",s.message),s}}},g=()=>{const[s,o]=l.useState({users:0,buses:0,busStops:0,routes:0,onLive:0}),[c,r]=l.useState(!0),[i,d]=l.useState(null);return l.useEffect(()=>{(async()=>{try{const t=await m.getStatistics();o({users:t.user,buses:t.buses,busStops:t.busStops,routes:t.routes,onLive:t.onLive}),r(!1)}catch{d("Failed to load statistics"),r(!1)}})()},[]),c?e.jsx("div",{children:"Loading..."}):i?e.jsx("div",{children:i}):e.jsx(x,{children:e.jsxs("div",{className:"h-80",children:[e.jsxs("div",{className:"pt-2",children:[e.jsx("h1",{className:"font-bold text-xl text-blueGray-700",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-coolGray-500 mt-1",children:"Welcome to Rural Area Bus Tracking System!"})]}),e.jsxs("div",{className:"py-6 flex gap-4 flex-wrap",children:[e.jsx(a,{title:"Users",value:s.users,icon:"mingcute:group-3-fill",iconBg:"bg-red-500"}),e.jsx(a,{title:"Bus Stops",value:s.busStops,icon:"fa6-solid:indian-rupee-sign",iconBg:"bg-green-500"}),e.jsx(a,{title:"Buses",value:s.buses,icon:"f7:chart-pie-fill",iconBg:"bg-orange-500"}),e.jsx(a,{title:"Routes",value:s.routes,icon:"clarity:employee-solid",iconBg:"bg-rose-500"}),e.jsx(a,{title:"On Live",value:s.onLive,icon:"solar:bus-bold",iconBg:"bg-blue-500"})]}),e.jsx("div",{className:"bg-coolGray-100 p-3 border rounded shadow-md absolute right-5 flex flex-col justify-center items-center bottom-4 text-coolGray-400",children:e.jsxs("h5",{className:"flex gap-2 items-center text-sm",children:[e.jsx(n,{icon:"raphael:info",className:"text-md"})," Some features are under development."]})})]})})};export{g as default};
