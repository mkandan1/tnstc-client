import{r as m,u as p,j as t,e as n,k as l}from"./index-B9wrcDWQ.js";import{P as x}from"./Container-Dk9VdPk9.js";import{P as h}from"./PageHeader-BHYpsllP.js";import{T as j}from"./TabContainer-DqSLoziL.js";import{T as r,a as v}from"./ToggleSwitch-0XDEILB1.js";import{M as b}from"./MapContainer-BIFfYiqE.js";import{B as g}from"./BusStopManager-D67D6L0V.js";import"./ButtonList-DgGakKsg.js";import"./mapbox-gl-COE2yGkF.js";const P=()=>{const[a,o]=m.useState({name:null,coordinates:{lat:null,lng:null},active:!0}),i=p(),c=[{id:"create",label:"Create Stop",icon:"",disabled:Object.values(a).some(e=>e==null)},{id:"save-n-create-another",label:"Save & Create another",icon:"",disabled:Object.values(a).some(e=>e==null)}],u=async e=>{Object.values(a).some(s=>s==null)||(e=="create"?await n("/bus-stops",a).then(s=>{l.success("Bus Stop is Created"),i("/manager/stops")}):e=="save-n-create-another"&&(await n("/bus-stops",a).then(s=>{l.success("Bus Stop is Created")}),o({name:"",coordinates:{lat:null,lng:null},active:!0})))},d=e=>{console.log("New bus stop added:",e),o(s=>({...s,coordinates:{lat:e.lat,lng:e.lng}}))};return t.jsxs(x,{children:[t.jsx(h,{title:"Create Bus Stop",buttons:c,onButtonClick:u,goBack:!0}),t.jsx(j,{children:t.jsx(r,{children:t.jsx(r.Item,{title:"Bus Stop",children:t.jsxs("div",{className:"space-y-20 relative",children:[t.jsx("div",{className:"w-full h-[50vh]",children:t.jsx(b,{children:e=>t.jsx(g,{mapInstance:e,onBusStopAdded:d,busStop:a})})}),t.jsxs("div",{className:"w-96 mt-10",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bus Stop Name"}),t.jsx(v,{type:"text",placeholder:"Stop Name",value:a.name,onChange:e=>{o(s=>({...s,name:e.target.value}))}})]})]})})})})]})};export{P as default};
