import{r as s,u as v,j as a,h as N}from"./index-B9wrcDWQ.js";import{P as h}from"./Container-Dk9VdPk9.js";import{P as x}from"./PageHeader-BHYpsllP.js";import{N as E}from"./NormalTable-Dl69B-GF.js";import"./ButtonList-DgGakKsg.js";import"./ToggleSwitch-0XDEILB1.js";const P=()=>{const[l,n]=s.useState([]),i=v(),[c,r]=s.useState(!0),[U,d]=s.useState(null),u=[{label:"Full Name",field:"fullName"},{label:"Role",field:"role"},{label:"Contact Number",field:"contactNumber"},{label:"Email",field:"email"},{label:"Status",field:"isActive"}],m=e=>{console.log("Clicked"),i(`${e._id}`)},f=[{id:"add-user",label:"Add User",icon:"gridicons:create"}],b=async e=>{if(e==="add-user")return i("new"),!0},g=[{label:"View",icon:"mdi:eye",callback:e=>i(e._id)},{label:"Edit",icon:"mdi:pencil",callback:e=>m(e)}];return s.useEffect(()=>{let e=!0;return(async()=>{try{r(!0);const o=await N.getAllUsers();if(e){const p=o.results.map(t=>({...t,fullName:`${t.firstName} ${t.lastName}`,isActive:t.isActive?"Active":"Inactive"}));n(p),console.log(l)}}catch(o){d(o.message)}finally{e&&r(!1)}})(),()=>{e=!1}},[]),a.jsxs(h,{children:[a.jsx(x,{title:"Users",description:`You have ${l.length} users`,buttons:f,onButtonClick:e=>b(e)}),a.jsx("div",{className:"w-screen md:w-auto overflow-x-auto",children:a.jsx(E,{headers:u,data:l,actions:g,isLoading:c})})]})};export{P as default};
