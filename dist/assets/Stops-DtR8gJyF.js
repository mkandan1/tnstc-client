import{u as b,r as e,j as s}from"./index-B9wrcDWQ.js";import{P as v}from"./Container-Dk9VdPk9.js";import{P as g}from"./PageHeader-BHYpsllP.js";import{N as x}from"./NormalTable-Dl69B-GF.js";import{b as h}from"./stop.service-Yq49OPy_.js";import"./ButtonList-DgGakKsg.js";import"./ToggleSwitch-0XDEILB1.js";const C=()=>{const a=b(),[i,c]=e.useState([]),[n,l]=e.useState(!0),[u,p]=e.useState(null),d=[{id:"create-stop",label:"Create Bus Stop",icon:"gridicons:create"}],m=[{label:"Bus Stop",field:"name"},{label:"Status",field:"active"}],f=[{label:"View",icon:"mdi:eye",callback:t=>a(t._id)},{label:"Edit",icon:"mdi:pencil",callback:t=>a(`${t._id}/edit`)}];return e.useEffect(()=>{let t=!0;return(async()=>{try{const o=await h.getAllBusStops();if(t){const S=o.busStops.map(r=>({...r,active:r.active?"Active":"Inactive"}));c(S)}}catch(o){p(o.message)}finally{t&&l(!1)}})(),()=>{t=!1}},[]),s.jsxs(v,{children:[s.jsx(g,{title:"Bus Stops",description:`You have ${i.length} bus stops`,buttons:d,onButtonClick:()=>a("new")}),s.jsx("div",{className:"w-screen md:w-auto overflow-x-auto",children:s.jsx(x,{headers:m,data:i,actions:f,isLoading:n,error:u})})]})};export{C as default};
